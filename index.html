<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é—¨åº—æ•°æ®äº¤äº’ä¸­å¿ƒ</title>
    
    <!-- å¼•å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* åŸºç¡€æ ·å¼ */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
            /* èƒŒæ™¯è‰²ç”± React ç»„ä»¶æ§åˆ¶ */
        }
        /* ä¸ºæ¸å˜èƒŒæ™¯æä¾›é¢å¤–æ”¯æŒ */
        .kpi-card-gradient-green { background-image: linear-gradient(to right top, #6ee7b7, #34d399, #10b981); }
        .kpi-card-gradient-blue { background-image: linear-gradient(to right top, #93c5fd, #60a5fa, #3b82f6); }
        .kpi-card-gradient-orange { background-image: linear-gradient(to right top, #fcd34d, #fbbf24, #f59e0b); }

        /* SVG èƒŒæ™¯å›¾æ¡ˆæ ·å¼ */
        .svg-pattern-dollar {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='1' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='12' y1='1' x2='12' y2='23'/%3E%3Cpath d='M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6'/%3E%3C/svg%3E");
            background-repeat: repeat;
            background-size: 80px 80px; /* æ§åˆ¶å›¾æ ‡å¤§å° */
            opacity: 0.1; /* é€æ˜åº¦ */
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0;
        }
        .svg-pattern-check {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='1' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M22 11.08V12a10 10 0 1 1-5.93-9.14'/%3E%3Cpolyline points='22 4 12 14.01 9 11.01'/%3E%3C/svg%3E");
            background-repeat: repeat;
            background-size: 80px 80px;
            opacity: 0.1;
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0;
        }
        .svg-pattern-refresh {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='1' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8'/%3E%3Cpath d='M21 3v5h-5'/%3E%3Cpath d='M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16'/%3E%3Cpath d='M3 21v-5h5'/%3E%3C/svg%3E");
            background-repeat: repeat;
            background-size: 80px 80px;
            opacity: 0.1;
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            z-index: 0;
        }
    </style>
</head>
<body>
    
    <!-- 1. React æŒ‚è½½ç‚¹ -->
    <div id="root"></div>

    <!-- 2. å¼•å…¥ React å’Œ ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- 3. å¼•å…¥ Babel (ç”¨äºè§£æ JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- 4. æ‚¨çš„ React åº”ç”¨ä»£ç  -->
    <script type="text/babel">
        // --- React åˆå§‹åŒ– ---
        const { useState, useEffect } = React;
        
        // --- ä¿®å¤: å†…è” SVG å›¾æ ‡ç»„ä»¶ ---
        // (è¿™äº›æ˜¯æ›¿ä»£ lucide-react çš„å›¾æ ‡)
        
        // 1. DollarSign å›¾æ ‡
        function IconDollarSign({ className, size = 24 }) {
          return (
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width={size}
              height={size}
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              strokeWidth="2"
              strokeLinecap="round"
              strokeLinejoin="round"
              className={className}
            >
              <line x1="12" y1="1" x2="12" y2="23" />
              <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
            </svg>
          );
        }

        // 2. CheckCircle å›¾æ ‡
        function IconCheckCircle({ className, size = 24 }) {
          return (
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width={size}
              height={size}
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              strokeWidth="2"
              strokeLinecap="round"
              strokeLinejoin="round"
              className={className}
            >
              <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" />
              <polyline points="22 4 12 14.01 9 11.01" />
            </svg>
          );
        }

        // 3. RefreshCw å›¾æ ‡
        function IconRefreshCw({ className, size = 24 }) {
          return (
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width={size}
              height={size}
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              strokeWidth="2"
              strokeLinecap="round"
              strokeLinejoin="round"
              className={className}
            >
              <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8" />
              <path d="M21 3v5h-5" />
              <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16" />
              <path d="M3 21v-5h5" />
            </svg>
          );
        }

        // 4. ArrowLeft å›¾æ ‡
        function IconArrowLeft({ size, className }) {
          return (
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width={size || 24}
              height={size || 24}
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              strokeWidth="2"
              strokeLinecap="round"
              strokeLinejoin="round"
              className={className}
            >
              <line x1="19" y1="12" x2="5" y2="12" />
              <polyline points="12 19 5 12 12 5" />
            </svg>
          );
        }

        // 5. Plus å›¾æ ‡
        function IconPlus({ size, className }) {
          return (
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width={size || 24}
              height={size || 24}
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              strokeWidth="2"
              strokeLinecap="round"
              strokeLinejoin="round"
              className={className}
            >
              <line x1="12" y1="5" x2="12" y2="19" />
              <line x1="5" y1="12" x2="19" y2="12" />
            </svg>
          );
        }


        // --- æ‚¨çš„çœŸå®æ•°æ® ---
        const MOCK_STORES = [
          {
            id: 'store_1',
            name: 'FAè¿åŠ¨æ‹¾å…‰é—¨åº—',
            subtitle: '10æœˆæ•°æ®åˆ†æ',
            status: 'available',
            icon: 'ğŸ®',
            url: 'https://linkevin-luv.github.io/Kevin/fa-sport-oct.html',
            salesAmount: 128000, 
            verificationAmount: 85500, 
            refundAmount: 60000, 
          },
          {
            id: 'store_2',
            name: 'è§…å¢ƒé—¨åº—',
            subtitle: '10æœˆæ•°æ®åˆ†æ',
            status: 'available',
            icon: 'ğŸï¸',
            url: 'https://linkevin-luv.github.io/Kevin/mijing-sport-oct.html',
            salesAmount: 115397, 
            verificationAmount: 72664, 
            refundAmount: 60409, 
          },
          {
            id: 'store_3',
            name: 'è§…å¯†é—¨åº—',
            subtitle: '10æœˆæ•°æ®åˆ†æ',
            status: 'available',
            icon: 'ğŸ²',
            url: 'https://linkevin-luv.github.io/Kevin/mimi-sport-oct.html',
            salesAmount: 13733, 
            verificationAmount: 5078, 
            refundAmount: 3939, 
          },
          {
            id: 'store_4',
            name: 'å°è‚¥å¤§æ’æ¡£é—¨åº—',
            subtitle: '10æœˆæ•°æ®åˆ†æ',
            status: 'available',
            icon: 'ğŸœ',
            url: 'https://linkevin-luv.github.io/Kevin/xiaofei-sport-oct.html',
            salesAmount: 76000, 
            verificationAmount: 21000, 
            refundAmount: 11000, 
          },
          {
            id: 'store_5',
            name: 'é±¼ç„°é—¨åº—',
            subtitle: '10æœˆæ•°æ®åˆ†æ',
            status: 'available',
            icon: 'ğŸŸ',
            url: 'https://linkevin-luv.github.io/Kevin/yuyan-sport-oct.html',
            salesAmount: 124000, 
            verificationAmount: 78000, 
            refundAmount: 41000, 
          },
          {
            id: 'store_6',
            name: 'ç„±ç‚­é—¨åº—',
            subtitle: '10æœˆæ•°æ®åˆ†æ',
            status: 'available',
            icon: 'ğŸ”¥',
            url: 'https://linkevin-luv.github.io/Kevin/yantan-sport-oct.html',
            salesAmount: 48378, 
            verificationAmount: 31000, 
            refundAmount: 6200, 
          },
        ];

        // --- UI å‡çº§: Header ç»„ä»¶ ---
        // (å·²ä¿®å¤: ç§»é™¤äº† sticky, top-0, z-50)
        function Header({ title }) {
          return (
            <header className="bg-slate-800 shadow-lg">
              <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div className="flex justify-center items-center h-16">
                  <h1 className="text-2xl md:text-3xl font-bold text-white">
                    {title}
                  </h1>
                </div>
              </div>
            </header>
          );
        }

        // --- æ ¸å¿ƒç»„ä»¶ ---

        /**
         * 1. é—¨åº—çœ‹æ¿ä¸­å¿ƒ (æ¦‚è§ˆé¡µ)
         */
        function DashboardCenter({ stores, onSelectStore, totalMetrics }) {
          return (
            <div className="min-h-screen bg-gray-100">
              <Header title="é—¨åº—æ•°æ®äº¤äº’ä¸­å¿ƒ" />
              
              <main className="p-4 md:p-8">
                {/* æ€»ä½“KPIå¡ç‰‡ (å·²æ›´æ–°: æ˜¾ç¤ºé‡‘é¢) */}
                <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
                  <KpiCard
                    title="10æœˆæ€»æˆäº¤"
                    value={`Â¥${(totalMetrics.totalSales / 10000).toFixed(2)}ä¸‡`}
                    subtitle="10æœˆæ”¶æ”¯åˆ†æ"
                    gradientClass="kpi-card-gradient-green"
                    icon={<IconDollarSign size={36} className="text-white" />}
                    svgPatternClass="svg-pattern-dollar"
                  />
                  <KpiCard
                    title="10æœˆæ€»æ ¸é”€"
                    value={`Â¥${(totalMetrics.totalVerification / 10000).toFixed(2)}ä¸‡`}
                    subtitle="10æœˆæ”¶æ”¯åˆ†æ"
                    gradientClass="kpi-card-gradient-blue"
                    icon={<IconCheckCircle size={36} className="text-white" />}
                    svgPatternClass="svg-pattern-check"
                  />
                  <KpiCard
                    title="10æœˆæ€»é€€æ¬¾"
                    value={`Â¥${(totalMetrics.totalRefunds / 10000).toFixed(2)}ä¸‡`}
                    subtitle="10æœˆæ”¶æ”¯åˆ†æ"
                    gradientClass="kpi-card-gradient-orange"
                    icon={<IconRefreshCw size={36} className="text-white" />}
                    svgPatternClass="svg-pattern-refresh"
                  />
                </div>

                {/* é—¨åº—åˆ—è¡¨ */}
                <div>
                  <h2 className="text-2xl font-semibold text-gray-700 mb-6">å„é—¨åº—æ¦‚è§ˆ</h2>
                  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    {stores.map((store) => (
                      <StoreCard
                        key={store.id}
                        store={store}
                        onClick={() => onSelectStore(store)}
                      />
                    ))}
                    {/* æ·»åŠ æ–°é—¨åº—å¡ç‰‡ */}
                    <AddStoreCard />
                  </div>
                </div>
              </main>
            </div>
          );
        }

        /**
         * KpiCard (æ–°ç‰ˆ: æ˜¾ç¤ºé‡‘é¢)
         */
        function KpiCard({ title, value, subtitle, icon, gradientClass, svgPatternClass }) {
          return (
            <div className={`relative p-6 rounded-lg shadow-xl overflow-hidden text-white flex flex-col items-center justify-center transition-all duration-300 hover:scale-[1.02] ${gradientClass}`}>
              {/* SVG èƒŒæ™¯å›¾æ¡ˆ */}
              <div className={svgPatternClass}></div>
              
              {/* å†…å®¹å±‚ */}
              <div className="relative z-10 flex flex-col items-center">
                <div className="p-3 rounded-full bg-white bg-opacity-20 backdrop-blur-sm mb-3">
                  {icon}
                </div>
                <p className="text-xl font-bold mb-1 text-center">{title}</p>
                {/* é‡‘é¢ */}
                <p className="text-3xl font-extrabold mb-2 text-center">{value}</p> 
                <p className="text-sm opacity-90 text-center">{subtitle}</p>
              </div>
            </div>
          );
        }

        /**
         * 2. å•ä¸ªé—¨åº—çš„è¯¦ç»†çœ‹æ¿ (iFrame)
         */
        function StoreDashboard({ store, onBack }) {
          if (!store) return null;

          return (
            <div className="min-A-screen bg-gray-100">
              <div className="p-4 md:p-8">
                {/* é¡µå¤´å’Œè¿”å›æŒ‰é’® */}
                <header className="bg-white p-4 rounded-lg shadow-lg flex items-center justify-between mb-6">
                  <button
                    onClick={onBack}
                    className="flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-300"
                  >
                    <IconArrowLeft size={20} className="mr-2" />
                    è¿”å›æ¦‚è§ˆ
                  </button>
                  <h1 className="text-2xl md:text-3xl font-bold text-gray-800">{store.name}</h1>
                  {/* å ä½ä¿æŒæ ‡é¢˜å±…ä¸­ */}
                  <div style={{ width: '100px' }}></div> 
                </header>

                {/* iFrame åµŒå…¥ */}
                <div className="bg-white rounded-lg shadow-xl overflow-hidden" style={{ height: 'calc(100vh - 150px)' }}>
                  <iframe
                    src={store.url}
                    title={store.name}
                    className="w-full h-full border-0"
                    sandbox="allow-scripts allow-same-origin allow-popups"
                  ></iframe>
                </div>
              </div>
            </div>
          );
        }

        /**
         * æ¦‚è§ˆé¡µ - é—¨åº—å¡ç‰‡
         */
        function StoreCard({ store, onClick }) {
          const isPending = store.status === 'pending';

          const cardContent = (
            <React.Fragment>
              <div className="flex flex-col items-center">
                <span className="text-5xl mb-3">{store.icon || 'ğŸª'}</span>
                <h3 className="text-lg font-semibold text-gray-800">{store.name}</h3>
                <p className="text-sm text-gray-500 mt-1">{store.subtitle}</p>
              </div>
              <div className="mt-4">
                {isPending ? (
                  <span className="block text-center text-sm font-medium text-yellow-600 bg-yellow-100 px-3 py-2 rounded-lg">
                    éƒ¨ç½²ä¸­/å¾…ä¸Šä¼ 
                  </span>
                ) : (
                  <span className="block text-center text-sm font-medium text-blue-600 hover:text-blue-800">
                    ç‚¹å‡»æŸ¥çœ‹æŠ¥å‘Š &rarr;
                  </span>
                )}
              </div>
            </React.Fragment>
          );

          if (isPending) {
            return (
              <div className="bg-white p-6 rounded-lg shadow-lg border-2 border-gray-200 opacity-60">
                {cardContent}
              </div>
            );
          }

          return (
            <button
              onClick={onClick}
              className="w-full bg-white p-6 rounded-lg shadow-lg border-2 border-transparent hover:shadow-xl transition-all duration-300 text-left scale-100 hover:scale-[1.03] hover:ring-2 hover:ring-blue-500 hover:ring-offset-2"
            >
              {cardContent}
            </button>
          );
        }

        /**
         * AddStoreCard
         */
        function AddStoreCard() {
          return (
            <button className="w-full h-full min-h-[180px] flex flex-col items-center justify-center bg-white border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:bg-gray-50 hover:border-gray-400 transition-all duration-300 shadow-lg hover:shadow-xl">
              <IconPlus size={32} className="mb-2" />
              <span className="font-semibold">æ·»åŠ æ–°é—¨åº—</span>
              <span className="text-sm mt-1">ä¸Šä¼  HTML æ–‡ä»¶åˆ°ä»“åº“</span>
            </button>
          );
        }

        // --- App ä¸»ç»„ä»¶ ---
        function App() {
          const [selectedStore, setSelectedStore] = useState(null); 
          const [storesData] = useState(MOCK_STORES);
          const [totalMetrics, setTotalMetrics] = useState({
            totalSales: 0,
            totalVerification: 0, 
            totalRefunds: 0, 
          });

          // è®¡ç®—æ€»KPI
          useEffect(() => {
            const sales = storesData.reduce((acc, store) => acc + store.salesAmount, 0);
            const verification = storesData.reduce((acc, store) => acc + store.verificationAmount, 0);
            const refunds = storesData.reduce((acc, store) => acc + store.refundAmount, 0);

            setTotalMetrics({
              totalSales: sales,
              totalVerification: verification,
              totalRefunds: refunds,
            });
          }, [storesData]);

          // æ¸²æŸ“
          if (selectedStore) {
            return (
              <StoreDashboard
                store={selectedStore}
                onBack={() => setSelectedStore(null)}
              />
            );
          }

          return (
            <DashboardCenter
              stores={storesData}
              onSelectStore={setSelectedStore}
              totalMetrics={totalMetrics}
            />
          );
        }

        // --- 6. å¯åŠ¨ React åº”ç”¨ ---
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);

    </script>
</body>
</html>

